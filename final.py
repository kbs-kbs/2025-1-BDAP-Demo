# -*- coding: utf-8 -*-
"""final.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1k_1WzPRS1dnr2dhonlQHsjuKee61bMrN
"""

import streamlit as st
import pandas as pd
import folium
from folium.plugins import MarkerCluster
from streamlit_folium import st_folium
import matplotlib.pyplot as plt
import seaborn as sns
import os
import plotly.express as px

# --- í˜ì´ì§€ ì„¤ì • ---
st.set_page_config(page_title="ì„œìš¸ ë”°ë¦‰ì´ ë¶„ì„ ëŒ€ì‹œë³´ë“œ", layout="wide")
plt.rcParams['font.family'] = 'Malgun Gothic'
plt.rcParams['axes.unicode_minus'] = False

# --- íƒ­ êµ¬ì„± ---
tab1, tab2, tab3 = st.tabs([
    "ğŸ“ ë”°ë¦‰ì´ ëŒ€ì—¬ì†Œ ì§€ë„",
    "ğŸ›  ê³ ì¥ ë¶„ì„",
    "ğŸš´ ìì „ê±° ë Œíƒˆìˆ˜ & ê¸°ìƒ ìƒê´€ê´€ê³„"
])

# ================================
# TAB 1: ë”°ë¦‰ì´ ëŒ€ì—¬ì†Œ ì§€ë„
# ================================
with tab1:
    st.title("ğŸ“ ì„œìš¸ ë”°ë¦‰ì´ ëŒ€ì—¬ì†Œ ì§€ë„")

    try:
        df_map = pd.read_csv('merged_bike_data.csv')
    except FileNotFoundError:
        st.error("Error: 'ë³‘í•©ëœ_ë”°ë¦‰ì´_ë°ì´í„°.csv' íŒŒì¼ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.")
        st.stop()

    # ë°ì´í„° ì „ì²˜ë¦¬
    df_map['ëŒ€ì—¬ê±´ìˆ˜'] = df_map['ëŒ€ì—¬ê±´ìˆ˜'].fillna(0).astype(int)
    df_map['ë°˜ë‚©ê±´ìˆ˜'] = df_map['ë°˜ë‚©ê±´ìˆ˜'].fillna(0).astype(int)
    df_map['ì´ì´ìš©ê±´ìˆ˜'] = df_map['ì´ì´ìš©ê±´ìˆ˜'].fillna(0).astype(int)
    df_map['ì£¼ì†Œ2'] = df_map['ì£¼ì†Œ2'].fillna('')
    df_map['ìœ„ë„'] = pd.to_numeric(df_map['ìœ„ë„'], errors='coerce')
    df_map['ê²½ë„'] = pd.to_numeric(df_map['ê²½ë„'], errors='coerce')
    df_map.dropna(subset=['ìœ„ë„', 'ê²½ë„'], inplace=True)

    # ê²€ìƒ‰ì°½ (key ì§€ì •) + session_state ì—°ë™
    search_id = st.text_input("ëŒ€ì—¬ì†Œ IDë¡œ ê²€ìƒ‰í•˜ê¸°", key="search_id")
    current_search_id = st.session_state.get("search_id", "")

    # ìƒìœ„/í•˜ìœ„ 3ê°œ ì¶”ì¶œ
    df_sorted = df_map.sort_values(by='ì´ì´ìš©ê±´ìˆ˜', ascending=False)
    top3 = df_sorted.head(3)
    bottom3 = df_sorted.tail(3)

    # ì§€ë„ ì¤‘ì‹¬ ìœ„ì¹˜ ê²°ì •
    if current_search_id and current_search_id in df_map['ëŒ€ì—¬ì†Œ_ID'].astype(str).values:
        searched_row = df_map[df_map['ëŒ€ì—¬ì†Œ_ID'].astype(str) == current_search_id].iloc[0]
        map_center = [searched_row['ìœ„ë„'], searched_row['ê²½ë„']]
        zoom_level = 16
    else:
        map_center = [37.5665, 126.9780]
        zoom_level = 11

    m = folium.Map(location=map_center, zoom_start=zoom_level)
    marker_cluster = MarkerCluster().add_to(m)

    for idx, row in df_map.iterrows():
        full_address = f"{row['ì£¼ì†Œ1']} {row['ì£¼ì†Œ2']}".strip()
        is_top = row['ëŒ€ì—¬ì†Œ_ID'] in top3['ëŒ€ì—¬ì†Œ_ID'].values
        is_bottom = row['ëŒ€ì—¬ì†Œ_ID'] in bottom3['ëŒ€ì—¬ì†Œ_ID'].values

        base_popup = f"""
        <b>ëŒ€ì—¬ì†Œ ID:</b> {row['ëŒ€ì—¬ì†Œ_ID']}<br>
        <b>ì£¼ì†Œ:</b> {full_address}<br>
        <b>ì´ ì´ìš© ê±´ìˆ˜:</b> {row['ì´ì´ìš©ê±´ìˆ˜']:,} ê±´<br>
        <b>ëŒ€ì—¬ ê±´ìˆ˜:</b> {row['ëŒ€ì—¬ê±´ìˆ˜']:,} ê±´<br>
        <b>ë°˜ë‚© ê±´ìˆ˜:</b> {row['ë°˜ë‚©ê±´ìˆ˜']:,} ê±´
        """

        if is_top:
            rank = top3[top3['ëŒ€ì—¬ì†Œ_ID'] == row['ëŒ€ì—¬ì†Œ_ID']].index[0] + 1
            popup_html = f"<b>ğŸ† ì´ ì´ìš©ë¥  {rank}ìœ„!</b><br>" + base_popup
            tooltip_text = f"ğŸ† {rank}ìœ„ | {row['ëŒ€ì—¬ì†Œ_ID']}"
            color = 'blue'
            radius = 12
        elif is_bottom:
            popup_html = base_popup + "<br><b>âš  í†µíí•© ê²€í†  í•„ìš”</b>"
            tooltip_text = f"âš  {row['ëŒ€ì—¬ì†Œ_ID']} (ì´ìš© ì ìŒ)"
            color = 'gray'
            radius = 8
        else:
            total_uses = row['ì´ì´ìš©ê±´ìˆ˜']
            if total_uses > 100000:
                color = 'red'
            elif total_uses > 50000:
                color = 'orange'
            else:
                color = 'green'
            popup_html = base_popup
            tooltip_text = f"{row['ëŒ€ì—¬ì†Œ_ID']} (ì´ ì´ìš©: {total_uses:,}ê±´)"
            radius = max(5, total_uses / 5000)

        # ê²€ìƒ‰í•œ ëŒ€ì—¬ì†Œë©´ í¬ê²Œ í‘œì‹œ + ë³´ë¼ìƒ‰
        if current_search_id and str(row['ëŒ€ì—¬ì†Œ_ID']) == current_search_id:
            radius = max(radius, 20)
            color = 'purple'
            tooltip_text = f"ğŸ” ê²€ìƒ‰ëœ ëŒ€ì—¬ì†Œ: {current_search_id}"

        folium.CircleMarker(
            location=[row['ìœ„ë„'], row['ê²½ë„']],
            radius=radius,
            color=color,
            fill=True,
            fill_color=color,
            fill_opacity=0.7,
            popup=folium.Popup(popup_html, max_width=300),
            tooltip=tooltip_text
        ).add_to(marker_cluster)

    st_folium(m, width=1200, height=700)

    st.markdown("""
    **ë§ˆì»¤ ìƒ‰ìƒ ê¸°ì¤€**
    - ğŸ”µ íŒŒë‘: ì´ìš©ë¥  TOP 3
    - âšª íšŒìƒ‰: ì´ìš©ë¥  BOTTOM 3 (í†µíí•© ê²€í† )
    - ğŸ”´ ë¹¨ê°•: 100,000ê±´ ì´ìƒ
    - ğŸŸ  ì£¼í™©: 50,000ê±´ ì´ìƒ
    - ğŸŸ¢ ë…¹ìƒ‰: 50,000ê±´ ë¯¸ë§Œ
    - ğŸŸ£ ë³´ë¼: ê²€ìƒ‰í•œ ëŒ€ì—¬ì†Œ

    ë§ˆì»¤ í¬ê¸°ëŠ” ì´ ì´ìš©ê±´ìˆ˜ì— ë¹„ë¡€í•˜ë©°, ê²€ìƒ‰í•œ ëŒ€ì—¬ì†ŒëŠ” í¬ê²Œ í‘œì‹œë©ë‹ˆë‹¤.

  
    #### ğŸ”º ì´ ì´ìš©ê±´ìˆ˜ **ìƒìœ„ 3ê°œ ëŒ€ì—¬ì†Œ**
    1ìœ„: **ST-2031**(ë§ˆê³¡ë‚˜ë£¨ì—­(9í˜¸ì„ ))
    2ìœ„: **ST-99**(ëšì„¬ìœ ì›ì§€ì—­ 1ë²ˆì¶œêµ¬ ì•) 
    3ìœ„: **ST-1718**(ë§ˆê³¡ë‚˜ë£¨ì—­(ê³µí•­ì² ë„) 5ë²ˆì¶œêµ¬ ë’¤í¸)

    #### ğŸ”» ì´ ì´ìš©ê±´ìˆ˜ **í•˜ìœ„ 3ê°œ ëŒ€ì—¬ì†Œ**
    1ìœ„: **ST-1750**(ì„œìš¸íŠ¹ë³„ì‹œ ê°•ì„œêµ¬ ê°œí™”ë™ë¡œ8ê¸¸ 17)  
    2ìœ„: **ST-1748**(ì„œìš¸íŠ¹ë³„ì‹œ ì˜ë“±í¬êµ¬ ì—¬ì˜ë„ë™ 85-3)
    3ìœ„: **ST-2145**(ì„œìš¸íŠ¹ë³„ì‹œ êµ¬ë¡œêµ¬ ì²œì™•ë™ 14-38)
    
    ### ë¶„ì„ ëª©ì 
    - ëŒ€ì—¬-ë°˜ë‚© ì°¨ì´ê°€ í° ëŒ€ì—¬ì†Œë¥¼ íŒŒì•…í•´ ìì „ê±° ë¶€ì¡± ë° ê³¼ì‰ ë¬¸ì œë¥¼ ì‹ë³„í•˜ê³  ì¬ë°°ì¹˜ íš¨ìœ¨ì„±ì„ ë†’ì…ë‹ˆë‹¤.
   
    ### ì˜ˆìƒ ê²°ë¡ 
    - ì´ìš©ë¥  ì €ì¡°í•œ ëŒ€ì—¬ì†ŒëŠ” ë‹¨ê³„ì  í†µíí•© ë˜ëŠ” ì¸ê·¼ ì¸ê¸° ëŒ€ì—¬ì†Œ ì£¼ë³€ìœ¼ë¡œ ì´ì „í•˜ì—¬ ìš´ì˜ë¹„ìš© ì ˆê° ë° ìì› íš¨ìœ¨ì„ ê·¹ëŒ€í™”í•©ë‹ˆë‹¤.
    
    """)
    
    
# ================================
# TAB 2: ê³ ì¥ ë¶„ì„
# ================================
with tab2:
    st.title("ğŸ›  ì„œìš¸ ë”°ë¦‰ì´ ê³ ì¥ ë¶„ì„")

    @st.cache_data
    def load_fault_data():
        path = './data_processed/df_analysis_final_with_readable_dates.parquet'
        if not os.path.exists(path):
            st.error(f"ë°ì´í„° íŒŒì¼ì´ ì—†ìŠµë‹ˆë‹¤: {path}")
            return None
        try:
            df_fault = pd.read_parquet(path)
            if 'fault_datetime' in df_fault.columns:
                df_fault['fault_datetime'] = pd.to_datetime(df_fault['fault_datetime'], errors='coerce')
            return df_fault
        except Exception as e:
            st.error(f"ë°ì´í„° ë¡œë“œ ì˜¤ë¥˜: {e}")
            return None

    df = load_fault_data()
    if df is None or df.empty:
        st.warning("ê³ ì¥ ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.")
        st.stop()

    st.sidebar.header("ğŸ§° í•„í„°")
    fault_types = sorted(df['fault_type'].dropna().unique())
    selected_types = st.sidebar.multiselect("ê³ ì¥ ìœ í˜• ì„ íƒ", fault_types, default=fault_types[:5])

    filtered_df = df[df['fault_type'].isin(selected_types)]

    if 'fault_datetime' in filtered_df.columns and not filtered_df['fault_datetime'].dropna().empty:
        min_date = filtered_df['fault_datetime'].min().date()
        max_date = filtered_df['fault_datetime'].max().date()
        selected_range = st.sidebar.date_input("ê³ ì¥ ë°œìƒ ê¸°ê°„", (min_date, max_date), min_value=min_date, max_value=max_date)
        if len(selected_range) == 2:
            start, end = selected_range
            filtered_df = filtered_df[(filtered_df['fault_datetime'] >= pd.Timestamp(start)) & (filtered_df['fault_datetime'] <= pd.Timestamp(end))]

    st.subheader("ğŸ¯ ê³ ì¥ ìœ í˜•ë³„ ë°œìƒ ë¹ˆë„")
    if not filtered_df.empty:
        fault_counts = filtered_df['fault_type'].value_counts().sort_values(ascending=False)
        fig1, ax1 = plt.subplots(figsize=(10, 5))
        sns.barplot(x=fault_counts.index, y=fault_counts.values, ax=ax1, palette="Set2")
        ax1.set_ylabel("ë°œìƒ ê±´ìˆ˜")
        ax1.set_xlabel("ê³ ì¥ ìœ í˜•")
        ax1.set_title("ê³ ì¥ ìœ í˜•ë³„ ë°œìƒ ë¹ˆë„")
        plt.xticks(rotation=45)
        st.pyplot(fig1)
        st.dataframe(fault_counts.rename("ë°œìƒ ê±´ìˆ˜").reset_index().rename(columns={"index": "ê³ ì¥ ìœ í˜•"}))

    st.subheader("ğŸ“Š ê³ ì¥ ì‹œ ëˆ„ì  ì‚¬ìš©ëŸ‰ (km) ë¶„ì„")
    if 'cumulative_km_at_fault' in filtered_df.columns:
        fig2, ax2 = plt.subplots(figsize=(10, 5))
        sns.boxplot(data=filtered_df, x="fault_type", y="cumulative_km_at_fault", palette="Set3")
        ax2.set_xlabel("ê³ ì¥ ìœ í˜•")
        ax2.set_ylabel("ê³ ì¥ ì‹œ ëˆ„ì  ì£¼í–‰ ê±°ë¦¬ (km)")
        ax2.set_title("ê³ ì¥ ì‹œ ëˆ„ì  ì£¼í–‰ ê±°ë¦¬ ë¶„í¬")
        plt.xticks(rotation=45)
        st.pyplot(fig2)

        stats = filtered_df.groupby("fault_type")["cumulative_km_at_fault"].describe()[["count", "mean", "std", "min", "25%", "50%", "75%", "max"]]
        stats = stats.loc[selected_types]
        st.dataframe(stats.style.format(precision=2))
        
# ================================
# TAB 3: ìì „ê±° ë Œíƒˆìˆ˜ & ê¸°ìƒ ìƒê´€ê´€ê³„
# ================================
with tab3:
    st.title('ğŸš´ ì„œìš¸ ìì „ê±° ë Œíƒˆìˆ˜ì™€ ê¸°ìƒë°ì´í„° ìƒê´€ê´€ê³„ ë¶„ì„')

    # ê°œë³„ íŒŒì¼ì—ì„œ ë°ì´í„° ë¶ˆëŸ¬ì˜¤ê¸°
    try:
        bike_df = pd.read_csv('seoul_bike_rentals_2024.csv')
        weather_df = pd.read_csv('2024_weather.csv')
    except FileNotFoundError as e:
        st.error(f"ë°ì´í„° íŒŒì¼ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤: {e}")
        st.stop()

    # ë‚ ì§œ ì²˜ë¦¬
    bike_df['date'] = pd.to_datetime(bike_df['date'])
    weather_df['ì¼ì‹œ'] = pd.to_datetime(weather_df['ì¼ì‹œ'])

    # 'ì¼ì‹œ' í¬í•¨í•´ì„œ í•„ìš”í•œ ì—´ ì„ íƒ
    weather_selected = weather_df.loc[:, ['ì¼ì‹œ'] + list(weather_df.columns[3:10])]

    # ë³‘í•©
    merged = pd.merge(bike_df, weather_selected, left_on='date', right_on='ì¼ì‹œ', how='left')
    merged.drop(columns=['ì¼ì‹œ'], inplace=True)

    # ì›”ê³¼ ê³„ì ˆ ì •ë³´ ì¶”ê°€
    merged['month'] = merged['date'].dt.month

    def get_season(month):
        if month in [3, 4, 5]:
            return 'ë´„'
        elif month in [6, 7, 8]:
            return 'ì—¬ë¦„'
        elif month in [9, 10, 11]:
            return 'ê°€ì„'
        elif month in [12, 1, 2]:
            return 'ê²¨ìš¸'
        
    def get_months(season):
        if season == 'ë´„':
            return [3, 4, 5]
        elif season == 'ì—¬ë¦„':
            return [6, 7, 8]
        elif season == 'ê°€ì„':
            return [9, 10, 11]
        elif season == 'ê²¨ìš¸':
            return [12, 1, 2]

    merged['season'] = merged['month'].apply(get_season)

    # ì›”ë³„ ë Œíƒˆìˆ˜ í•©ê³„ì™€ í‰ê·  ê¸°ì˜¨ ê³„ì‚°
    monthly_rent = merged.groupby('month')['rent_count'].sum()
    monthly_temp = merged.groupby('month')['í‰ê· ê¸°ì˜¨(â„ƒ)'].mean()

    # ì›” ë²ˆí˜¸ -> í•œê¸€ ì›” ì´ë¦„ ë§¤í•‘
    month_names = {1:'1ì›”', 2:'2ì›”', 3:'3ì›”', 4:'4ì›”', 5:'5ì›”', 6:'6ì›”',
                   7:'7ì›”', 8:'8ì›”', 9:'9ì›”', 10:'10ì›”', 11:'11ì›”', 12:'12ì›”'}

    # ì›”ë³„ ë°ì´í„° í”„ë ˆì„ ìƒì„±
    monthly_df = pd.DataFrame({
        'ì›”': [month_names[m] for m in monthly_rent.index],
        'ë Œíƒˆìˆ˜ í•©ê³„': monthly_rent.values,
        'í‰ê· ê¸°ì˜¨': monthly_temp.values
    })

    # 1ë…„ ì¤‘ ìµœëŒ€, ìµœì†Œ ë Œíƒˆìˆ˜ ì›” ì°¾ê¸°
    max_rent = monthly_df.loc[monthly_df['ë Œíƒˆìˆ˜ í•©ê³„'].idxmax()]
    min_rent = monthly_df.loc[monthly_df['ë Œíƒˆìˆ˜ í•©ê³„'].idxmin()]

    # Plotly ë§‰ëŒ€ê·¸ë˜í”„ ê·¸ë¦¬ê¸°
    fig = px.bar(monthly_df, x='ì›”', y='ë Œíƒˆìˆ˜ í•©ê³„',
                 labels={'ë Œíƒˆìˆ˜ í•©ê³„':'ì›”ë³„ ë Œíƒˆìˆ˜ í•©ê³„', 'ì›”':'ì›”'},
                 title='ì›”ë³„ ìì „ê±° ë Œíƒˆìˆ˜ì™€ í‰ê· ê¸°ì˜¨',
                 hover_data={'í‰ê· ê¸°ì˜¨': True, 'ë Œíƒˆìˆ˜ í•©ê³„': True},
                 text='ë Œíƒˆìˆ˜ í•©ê³„')

    fig.update_traces(
        hovertemplate=
        '<b>%{x}</b><br>'+
        'ì´ ë Œíƒˆ ìˆ˜: %{y}<br>'+
        'í‰ê·  ê¸°ì˜¨: %{customdata[0]:.1f}â„ƒ<br>'+
        '<extra></extra>',
        customdata=monthly_df[['í‰ê· ê¸°ì˜¨']].values
    )
    fig.update_layout(yaxis=dict(title='ë Œíƒˆìˆ˜ í•©ê³„'), xaxis=dict(title='ì›”'))

    st.plotly_chart(fig, use_container_width=True)
    # ìµœëŒ€/ìµœì†Œ ì›” ì¶œë ¥
    st.markdown(f"**1ë…„ ì¤‘ ê°€ì¥ ë Œíƒˆ ìˆ˜ê°€ ë§ì€ ë‹¬: {max_rent['ì›”']} ({max_rent['ë Œíƒˆìˆ˜ í•©ê³„']:,}ê±´)**")
    st.markdown(f"**1ë…„ ì¤‘ ê°€ì¥ ë Œíƒˆ ìˆ˜ê°€ ì ì€ ë‹¬: {min_rent['ì›”']} ({min_rent['ë Œíƒˆìˆ˜ í•©ê³„']:,}ê±´)**")

    # ê°„ë‹¨ í•´ì„
    st.markdown("""
    **í•´ì„:**  
    - ë´„ê³¼ ê°€ì„ì— ë Œíƒˆ ìˆ˜ê°€ ìƒìŠ¹í•˜ëŠ” ê²½í–¥ì´ ëšœë ·í•©ë‹ˆë‹¤.  
    - ê²¨ìš¸(12,1,2ì›”)ì€ ë Œíƒˆ ìˆ˜ê°€ í˜„ì €íˆ ê°ì†Œí•˜ë©°, í‰ê·  ê¸°ì˜¨ë„ ë‚®ìŠµë‹ˆë‹¤.  
    - ë¬´ë”ìš´ ì—¬ë¦„(6~8ì›”)ì€ ê¸°ì˜¨ ì˜í–¥ê³¼ ê°•ìˆ˜ëŸ‰ì— ë”°ë¼ ë³€ë™ì´ ìˆìŠµë‹ˆë‹¤.
    """)

    st.markdown("## ê³„ì ˆë³„ ë‚ ì”¨ì™€ ë Œíƒˆ ìˆ˜ì˜ ìƒê´€ê´€ê³„")

    seasons = ['ë´„', 'ì—¬ë¦„', 'ê°€ì„', 'ê²¨ìš¸']

    for season in seasons:
        season_df = merged[merged['season'] == season]
        st.subheader(f"{season}({[month + 'ì›”' for month in get_months(season)]}) ìƒê´€ê´€ê³„ ë¶„ì„")
        if season_df.empty:
            st.warning(f"{season} ë°ì´í„°ê°€ ì¡´ì¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.")
        else:
            numeric_cols = season_df.select_dtypes(include='number').columns.tolist()
            corr = season_df[numeric_cols].corr()
            # 'month' ì»¬ëŸ¼ì´ ìˆì„ ë•Œë§Œ drop
            if 'month' in corr.columns:
                rent_corr = corr.loc[['rent_count']].drop(['month'], axis=1)
            else:
                rent_corr = corr.loc[['rent_count']]
            plt.rcParams['font.family'] = 'Malgun Gothic'
            plt.rcParams['axes.unicode_minus'] = False
            plt.figure(figsize=(10, 1))
            sns.heatmap(rent_corr, annot=True, cmap='coolwarm', linewidths=0.5)
            st.pyplot(plt)
            plt.close()

    # í•´ì„ ìš”ì•½
        st.subheader('ğŸ“Œ ë¶„ì„ ìš”ì•½')
        if season == 'ê²¨ìš¸':
            st.markdown("- **ê¸°ì˜¨ì´ ë‚®ê³ , ê°•ìˆ˜ëŸ‰ì´ ë§ì„ìˆ˜ë¡ ìì „ê±° ë Œíƒˆ ìˆ˜ê°€ ì¤„ì–´ë“œëŠ” ê²½í–¥**ì´ ìˆìŠµë‹ˆë‹¤.")
        elif season == 'ì—¬ë¦„':
            st.markdown("- **ë¬´ë”ìœ„ì™€ ë¹„ì˜ ì˜í–¥ìœ¼ë¡œ ë Œíƒˆ ìˆ˜ê°€ ê°ì†Œ**í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.")
        elif season == 'ë´„':
            st.markdown("- **ë‚ ì”¨ê°€ ì¢‹ì•„ ìì „ê±° ë Œíƒˆ ìˆ˜ê°€ ê¸‰ì¦**í•˜ëŠ” ê²½í–¥ì´ ìˆìŠµë‹ˆë‹¤.")
        elif season == 'ê°€ì„':
            st.markdown("- **ì¾Œì í•œ ê¸°í›„ë¡œ ë Œíƒˆ ìˆ˜ê°€ ì•ˆì •ì ìœ¼ë¡œ ë†’ì€ í¸**ì…ë‹ˆë‹¤.")
            
            # ì˜ˆ) ì¸ê¸° + ë¹„íš¨ìœ¨ ëŒ€ì—¬ì†Œ ìš´ì˜ ë¶„ì„ íƒ­ ë‚´ ìƒë‹¨ì— ì•ˆë‚´ í…ìŠ¤íŠ¸ ì¶”ê°€

    st.markdown("""
    ### ë¶„ì„ ëª©ì 
    - ê¸°ìƒ ìƒí™©ì— ë”°ë¥¸ ì´ìš©ëŸ‰ ë³€í™”ë¥¼ ë¶„ì„í•´ ë‚ ì”¨ ê¸°ë°˜ ìˆ˜ìš” ì˜ˆì¸¡ ë° ì¬ë°°ì¹˜ ì „ëµì„ ë§ˆë ¨í•©ë‹ˆë‹¤.

    ### ì˜ˆìƒ ê²°ë¡ 
    - ë‚ ì”¨ ê¸°ë°˜ ìˆ˜ìš” ì˜ˆì¸¡ ë° ìì „ê±° ì¬ë°°ì¹˜ ì „ëµ ìˆ˜ë¦½ì— í™œìš© ì´ëŸ°ì‹ì˜ ë¶„ì„ ëª©ì ê³¼ ë¶„ì„ ì˜ˆìƒ
    """)


